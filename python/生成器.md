# 代替列表作为函数的返回值
在Python中，可以使用yield关键字来定义一个生成器函数，生成器函数可以通过迭代的方式逐个产生结果，而不是一次性返回一个完整的列表。这样可以节省内存空间并提高性能，特别是当返回的结果集较大时。
```python
#使用列表作为函数的返回
def index_words(text):
    result = []
    if text:
        result.append(0)
    for index, letter in enumerate(text):
        if letter == ' ':
            result.append(index + 1)
    return result

address = 'Four score and seven years ago our fathers brought forth on this continent a new nation, conceived in liberty, and dedicated to the proposition that all men are created equal.'

result = index_words(address)
print(result[:10])
```
当我们使用`yield`来进行返回时
```python
def index_words_iter(text):
    if text:
        yield 0
    for index, letter in enumerate(text):
        if letter == ' ':
            yield index + 1
it = index_words_iter(address)
print(next(it))
print(next(it))

#如果需要结果是列表
result = list(index_words_iter(address))
print(result[:10])
```
如果这里直接使用列表返回，而不是将生成器转换为列表的话，可能会遇到一些问题。函数它必须把所有的结果都保存到列表中，然后才能返回列表。如果输入的数据特别多，那么程序可能会因为耗尽内存而崩溃。
相反，用生成器函数来实现，就不会有这个问题了。它可以接受长度任意的输入信息，并把内存消耗量压得比较低。

**生成器函数的时候，只有一个地方需要注意，就是调用者无法重复使用函数所返回的迭代器，因为这些迭代器是有状态的**

